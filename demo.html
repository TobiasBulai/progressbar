<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loading Bar</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
    }
  </style>
  <link href="progressbar.css" type="text/css" rel="stylesheet">
</head>
<body>
  <div class="progressbar"></div>
  <script src="progressbar.js"></script>
  <script>
    const element = document.querySelector('.progressbar')

    // Catch any errors during runtime
    try {
      // Build progressbar with a supplied configuration-object
      const progressbar = new ProgressBar(element, {
        initText: 'loading...',
        width: 350,
        height: 100,
        borderWidth: 5,
        borderColor: 'black',
        padding: 10,
        progressColor: 'green',
        transitionDuration: 0.5
      })

      // Add step at each 0.5 second to the progressbar
      let timer = 0;
      const intervalId = setInterval(() => {
        timer += 5
        progressbar.step(timer, {
          text: {
            value: `${timer}%`,
            fade: true
          },
          textColor: (timer > 50) ? 'white' : 'black'
        })
      }, 500);

      setTimeout(() => {
        clearInterval(intervalId)
      }, 10500);
    } catch (error) {
      console.error(error)
    }
  </script>
</body>
</html>